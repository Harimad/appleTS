<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Vanilla JS Slide Navigation</title>
	<style>
		.slide {
			display: flex;
			flex-wrap: nowrap;
			overflow: hidden;
			/*ì»¨í…Œì´ë„ˆì•ˆì˜ ë‚´ìš©ì´ í•´ë‹¹ ì»¨í…Œì´ë„ˆ í¬ê¸°(ë„ˆë¹„, ë†’ì´)ë¥¼ ë„˜ì–´ê°€ë©´, ë³´ì´ì§€ ì•Šê¸° ìœ„í•¨ */
			position: relative;
			/*ìì‹ íƒœê·¸ì¸ slide-btnì—ê²Œ position absolute ì ìš©í•˜ê¸° ìœ„í•¨*/
			width: 100%;
		}

		.slide-box {
			/* ê°€ìš´ë° ì •ë ¬ */
			display: flex;
			justify-content: center;
			align-items: center;

			/* ğŸ‘‰orğŸ‘ˆ ë²„íŠ¼ í´ë¦­ì‹œ left offeset ê°’ì„ ì ìš©ì‹œí‚¤ê¸° ìœ„í•¨ */
			position: relative;
			left: 0px;

			/* ì‚¬ì´ì¦ˆ */
			width: 100%;
			height: 300px;

			/* flex itemì˜ flex-shrink ê¸°ë³¸ê°’ì´ 1ì´ë‹¤. ì¦‰, ì»¨í…Œì´ë„ˆ í¬ê¸°ì— ë§ê²Œ ì¤„ì–´ë“¬. */
			/* ìŠ¬ë¼ì´ë“œ êµ¬í˜„ì„ ìœ„í•´ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ 0 ì¤Œ */
			flex-shrink: 0;

			transition: left 0.2s;
		}

		.slide-btn {
			/* ê°€ìš´ë° ì •ë ¬ */
			display: flex;
			justify-content: center;
			align-items: center;

			position: absolute;

			top: calc(50% - 16px);
			/* ë²„íŠ¼ ì¤‘ì•™ ìœ„ì¹˜*/

			width: 2rem;
			height: 2rem;

			border-radius: 100%;
			background: rgba(200, 200, 200, 0.7);
			cursor: pointer;
			user-select: none;
		}

		.slide-btn-left {
			left: 10px;
		}

		.slide-btn-right {
			right: 10px;
		}

		.slide-box {
			font-size: 2rem;
			color: ivory;
		}

		.slide-box:first-child {
			background-color: red;
		}

		.slide-box:nth-child(2) {
			background-color: orange;
		}

		.slide-box:nth-child(3) {
			background-color: yellow;
		}

		.slide-box:nth-child(4) {
			background-color: green;
		}

		.slide-box:nth-child(5) {
			background-color: blue;
		}

		ul,
		li {
			list-style: none;
			padding: 0;
			margin: 0;
		}

		.slide_pagination {
			display: flex;
			gap: 5px;
			position: absolute;
			bottom: 0;
			/* ê°€ìš´ë°ë¡œ ìœ„ì¹˜ */
			left: 50%;
			transform: translateX(-50%);
		}

		.slide_pagination>li {
			color: #7f7fffff;
			cursor: pointer;
			font-size: 2rem;
		}

		.slide_pagination>li.active {
			color: #ffb5ff;
		}

	</style>
</head>

<body>
	<div class="slide">
		<div class="slide-box">1</div>
		<div class="slide-box">2</div>
		<div class="slide-box">3</div>
		<div class="slide-box">4</div>
		<div class="slide-box">5</div>
		<div class="slide-btn slide-btn-left ">ğŸ‘ˆ</div>
		<div class="slide-btn slide-btn-right ">ğŸ‘‰</div>
		<div class="slide_pagination"></div>
	</div>

	<script>
		const $slide = document.querySelector('.slide')
		const $leftBtn = document.querySelector('.slide-btn-left')
		const $rightBtn = document.querySelector('.slide-btn-right')
		const $slideItems = document.querySelectorAll('.slide-box')
		const $pagination = document.querySelector('.slide_pagination')

		let slideWidth = $slide.clientWidth // ìŠ¬ë¼ì´ë“œ ë„ˆë¹„
		let slideNums = $slideItems.length // ìŠ¬ë¼ì´ë“œ ê°œìˆ˜
		let currentSlide = 1 // í˜„ì¬ ìŠ¬ë¼ì´ë“œ ë²ˆí˜¸

		// í˜ì´ì§€ë„¤ì´ì…˜ ìƒì„±
		for (let i = 0; i < slideNums; i++) {
			if (i === 0) {
				$pagination.innerHTML += `<li class="active">â€¢</li>`
			} else {
				$pagination.innerHTML += `<li>â€¢</li>`
			}
		}
		const $paginationItems = document.querySelectorAll('.slide_pagination > li')
		console.log($paginationItems)

		// ìŠ¬ë¼ì´ë“œ ì´ë™ í•  ë•Œ í˜„ì¬ í™œì„±í™”ëœ pagination ë³€ê²½
		const activePagination = () => {
			$paginationItems.forEach(item => item.classList.remove('active'))
			$paginationItems[currentSlide - 1].classList.add('active')
		}

		const rightBtnEvent = () => {
			currentSlide++ // ìŠ¬ë¼ì´ë“œ ë²ˆí˜¸ +1

			if (currentSlide <= slideNums) {
				const offset = slideWidth * (currentSlide - 1) // ìŠ¬ë¼ì´ë“œ ì´ë™ì„ ìœ„í•œ offset ê³„ì‚°

				// ê° ìŠ¬ë¼ì´ë“œì˜ leftì— offset ì ìš© (-offsetì„ ì¤˜ì„œ ì™¼ìª½ìœ¼ë¡œ ì´ë™)
				$slideItems.forEach(item => {
					item.setAttribute('style', `left: ${-offset}px`)
				})
				activePagination()
			} else {
				currentSlide--
			}
		}

		const leftBtnEvent = () => {
			currentSlide-- // ìŠ¬ë¼ì´ë“œ ë²ˆí˜¸ -1

			if (currentSlide > 0) {
				const offset = slideWidth * (currentSlide - 1)
				$slideItems.forEach(item => {
					item.setAttribute('style', `left: ${-offset}px`)
				})
				// ìŠ¬ë¼ì´ë“œ ì´ë™ í•  ë•Œ í˜„ì¬ í™œì„±í™”ëœ pagination ë³€ê²½
				activePagination()
			} else {
				currentSlide++
			}

		}

		// 'ğŸ‘‰' ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€
		$rightBtn.addEventListener('click', rightBtnEvent)

		// 'ğŸ‘ˆ' ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€
		$leftBtn.addEventListener('click', leftBtnEvent)

		// ë¸Œë¼ìš°ì € í™”ë©´ ë„ˆë¹„ê°€ ë³€ê²½ë  ë•Œë„ slideWidthê°’ ìµœì‹ í™”
		window.addEventListener('resize', () => {
			slideWidth = $slide.clientWidth // ìŠ¬ë¼ì´ë“œ ë„ˆë¹„
		})

		// í˜ì´ì§€ë„¤ì´ì…˜ í´ë¦­ í•  ë•Œ í•´ë‹¹ ìŠ¬ë¼ì´ë“œë¡œ ì´ë™
		for (let i = 0; i < slideNums; i++) {
			// ê° í˜ì´ì§€ë„¤ì´ì…˜ ë§ˆë‹¤ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
			$paginationItems[i].addEventListener('click', () => {
				currentSlide = i + 1 // curSlideì˜ ì‹œì‘ ìœ„ì¹˜ê°€ 1ì´ê¸° ë•Œë¬¸
				const offset = slideWidth * (currentSlide - 1) // ìŠ¬ë¼ì´ë“œ ì´ë™ì„ ìœ„í•œ offset ê³„ì‚°
				console.log(slideWidth, currentSlide, slideWidth * (currentSlide - 1))
				// ê° ìŠ¬ë¼ì´ë“œ ì•„ì´í…œì˜ leftì— offset ì ìš©
				$slideItems.forEach(item => {
					item.setAttribute('style', `left: ${-offset}px`)
				})
				// ìŠ¬ë¼ì´ë“œ ì´ë™ í•  ë•Œ í˜„ì¬ í™œì„±í™”ëœ pagination ë³€ê²½
				activePagination()
			})
		}
	</script>
</body>

</html>
